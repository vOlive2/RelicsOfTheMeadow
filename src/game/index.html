<div id="game-board"></div>

<div id="hud">
  <div id="faction-info">
    <h2 id="faction-name"></h2>
    <p id="stats"></p>
    <p id="relics"></p>
    <p id="energy"></p>
  </div>

  <div id="actions">
    <button data-action="declare-war">âš”ï¸ Declare War</button>
    <button data-action="battle">ğŸ©¸ Battle / Siege</button>
    <button data-action="fortify">ğŸ§± Fortify</button>
    <button data-action="build">ğŸ—ï¸ Build</button>
    <button data-action="trade">ğŸ’° Manage Trade</button>
    <button data-action="use-relic">ğŸ§¿ Use Relic</button>
    <button data-action="faction-abilities">ğŸŒŸ Faction Abilities</button>
    <button data-action="end-turn">ğŸŒ™ End Turn</button>
  </div>
</div>

<div id="event-log"></div>

<!-- Trade Popup -->
<div id="trade-popup" class="popup hidden">
  <h3>Trade Management</h3>
  <button data-trade="cut">Cut Trade (Free)</button>
  <button data-trade="expand">Expand Route (-25ğŸ’°)</button>
  <button data-trade="deal">Form Deal (-50ğŸ’°)</button>
  <button id="close-trade">Close</button>
</div>

<!-- Faction Abilities Popup -->
<div id="faction-popup" class="popup hidden">
  <h3>Faction Abilities</h3>
  <div id="faction-abilities-list"></div>
  <button id="close-faction">Close</button>
</div>

<script type="module">
  import { factions } from "../../data/factions.js";

  // get chosen faction (maybe stored earlier)
  const chosenFactionName = localStorage.getItem("chosenFaction") || "The Crimson Horde";

  const faction = factions.find(f => f.name === chosenFactionName);

  if (faction) {
    document.getElementById("faction-name").textContent = `${faction.emoji} ${faction.name}`;
    document.getElementById("stats").textContent = `Prowess: ${faction.stats.prowess} | Resilience: ${faction.stats.resilience} | Economy: ${faction.stats.economy}`;
    document.getElementById("relics").textContent = `Relics: ${faction.relics.join(", ")}`;
    document.getElementById("energy").textContent = `Energy: ${faction.energy} âš¡ | Gold: ${faction.gold} ğŸ’°`;
  } else {
    document.getElementById("faction-name").textContent = "â“ Unknown Faction";
  }
</script>
